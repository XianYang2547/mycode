# çˆ±ç”Ÿæ´»ï¼Œçˆ±Python
# -- coding: UTF-8  --
# @Time : 2021/8/19 9:04
# @Author : Xianyang
# @Email : xy_mts@163.com
# @File : day43å¤šçº¿ç¨‹.py
# @Software: PyCharm



#å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºï¼Œå¤šè¿›ç¨‹ä¸­ï¼ŒåŒä¸€ä¸ªå˜é‡ï¼Œ
# å„è‡ªæœ‰ä¸€ä»½æ‹·è´å­˜åœ¨äºæ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œäº’ä¸å½±å“ï¼Œè€Œå¤šçº¿ç¨‹ä¸­ï¼Œ
# æ‰€æœ‰å˜é‡éƒ½ç”±æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œæ‰€ä»¥ï¼Œä»»ä½•ä¸€ä¸ªå˜é‡éƒ½å¯ä»¥è¢«
# ä»»ä½•ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹ï¼Œå› æ­¤ï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«æ•°æ®æœ€å¤§çš„å±é™©åœ¨
# äºå¤šä¸ªçº¿ç¨‹åŒæ—¶æ”¹ä¸€ä¸ªå˜é‡ï¼ŒæŠŠå†…å®¹ç»™æ”¹ä¹±äº†ã€‚
"çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†"


from time import sleep
from threading import Thread, Lock  # å¯¼å…¥è¿›ç¨‹æ¨¡å—,é”æ¨¡å—

# def download(n):
#     images=['girl.jpg','boy.jpg','man.jpg']
#     for image in images:
#         print('æ­£åœ¨ä¸‹è½½:',image)
#         sleep(n)
#         print('ä¸‹è½½{}æˆåŠŸ'.format(image))
#
# def listenmusic():
#     musics=['åƒé¢˜ä¹‹æ‹','æ´»åŸ‹','å›å¿†æ€»æƒ³å“­']
#     for music in musics:
#         sleep(0.5)
#         print('æ­£åœ¨å¬'+music)
#
# if __name__ == '__main__':
#     #åˆ›å»º2ä¸ªçº¿ç¨‹
#     t1=Thread(target=download,args=(1,))
#     t1.start()
#
#     t2=Thread(target=listenmusic)#å‡½æ•°è¦ä¼ å‚çš„è¯ ç”¨args
#     t2.start()
'''æ­£åœ¨ä¸‹è½½: girl.jpg
æ­£åœ¨å¬åƒé¢˜ä¹‹æ‹
æ­£åœ¨å¬æ´»åŸ‹
ä¸‹è½½girl.jpgæˆåŠŸ
æ­£åœ¨ä¸‹è½½: boy.jpg
æ­£åœ¨å¬å›å¿†æ€»æƒ³å“­
ä¸‹è½½boy.jpgæˆåŠŸ
æ­£åœ¨ä¸‹è½½: man.jpg
ä¸‹è½½man.jpgæˆåŠŸ'''
#################################################################################
####çº¿ç¨‹å¯ä»¥å…±äº«å…¨å±€å˜é‡ï¼Œå¤šä¸ªçº¿ç¨‹å…±åŒå¯¹æŸä¸ªæ•°æ®ä¿®æ”¹ï¼Œå¯èƒ½ä¼šå‡ºé”™
n=0
def task1():
    global n
    for i in range(1000000):
        n+=1
def task2():
    global n
    for i in range(1000000):
        n+=1
if __name__ == '__main__':
    #åˆ›å»ºã€å¯åŠ¨çº¿ç¨‹
    t11=Thread(target=task1)
    t22=Thread(target=task2)
    t11.start()
    t22.start()
    print(n)#å½“æ•°æ®è¿‡å¤§äº†ï¼Œ539415 ç»“æœå·®å¤ªå¤šï¼Œ å…ˆåŠ 1åœ¨èµ‹å€¼ï¼ŒåŠ äº†1åï¼Œèµ‹å€¼è¿™ä¸€æ­¥çš„æ—¶å€™è¢«å…¶ä»–è¿›ç¨‹æŠ¢å 
"æ•°æ®ä¸å®‰å…¨ï¼Œæ¯ä¸ªçº¿ç¨‹åŠ ä¸Šé”ï¼Œä½†è€—æ—¶ï¼Œè€—æ—¶æ“ä½œï¼Œçˆ¬è™«ç­‰ï¼Œç”¨å¤šçº¿ç¨‹" \
"pythonåº•å±‚å½“æˆ‘ä»¬åœ¨ä½¿ç”¨çº¿ç¨‹æ—¶é»˜è®¤åŠ äº†é”ï¼Œå½“æ•°æ®è¿‡å¤§æ—¶å°±æŠŠé”é‡Šæ”¾äº†ï¼Œå¯¼è‡´æ•°æ®ä¸å®‰å…¨ï¼Œè®¡ç®—ç”¨è¿›ç¨‹å¥½äº›"
'''
import threading
lock = threading.Lock()
from threading import Thread, Lock'''
#è§£å†³  åŠ äº†é”å°±å˜æˆå•çº¿ç¨‹
#è·å¾—é”çš„çº¿ç¨‹ç”¨å®Œåä¸€å®šè¦é‡Šæ”¾é”ï¼Œå¦åˆ™é‚£äº›è‹¦è‹¦ç­‰å¾…é”çš„çº¿ç¨‹å°†æ°¸è¿œç­‰å¾…ä¸‹å»ï¼Œæˆä¸ºæ­»çº¿ç¨‹ã€‚æ‰€ä»¥æˆ‘ä»¬ç”¨try...finallyæ¥ç¡®ä¿é”ä¸€å®šä¼šè¢«é‡Šæ”¾ã€‚
'''
        # å…ˆè¦è·å–é”:
        lock.acquire()
        try:
            # æ”¾å¿ƒåœ°æ”¹å§:
            å‡½æ•°
        finally:
            # æ”¹å®Œäº†ä¸€å®šè¦é‡Šæ”¾é”:
            lock.release()'''


lock=Lock()
list1=[0]*10#[0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
def tas():
    lock.acquire()#è·å¾—ä¸€ä¸ªğŸ”’
    for i in range(len(list1)):
        list1[i]=1#æŠŠ0-9æ”¾å…¥åˆ—è¡¨ä¸­
        sleep(0.2)
    lock.release()#é‡Šæ”¾ğŸ”’

def tass():
    lock.acquire()
    for i in range(len(list1)):
        print(i)
        sleep(0.2)
    lock.release()#é‡Šæ”¾ğŸ”’
if __name__ == '__main__':
    #åˆ›å»ºã€å¯åŠ¨çº¿ç¨‹
    t111=Thread(target=tas)
    t222=Thread(target=tass)
    t111.start()
    t222.start()


